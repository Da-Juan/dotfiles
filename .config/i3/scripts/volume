#!/bin/bash
sink=$(pactl list sinks | grep '^Sink #')

if [ -z "$1" ]; then
	if [[ ${BLOCK_BUTTON:-0} == 1 ]]; then
		$0 mute
	fi
	mute=$(pactl list sinks | grep Mute | sed 's/\sMute: \(.*\)/\1/')
	if [[ $mute == yes ]]; then
		echo " Mute"
	else
		echo " "$(~/.config/i3/scripts/volume2 ${sink##*\#})
	fi
else
	case "$1" in
		"up")
			pactl set-sink-volume ${sink##*\#} +1%
			;;
		"down")
			pactl set-sink-volume ${sink##*\#} -1%
			;;
		"mute")
			pactl set-sink-mute ${sink##*\#} toggle
			;;
	esac
fi
